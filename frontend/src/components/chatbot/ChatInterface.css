/* Chat interface improvements */

/* Ensure proper scrolling and expansion */
.chat-interface-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

/* Smooth scrolling for messages */
[data-radix-scroll-area-viewport] {
  scroll-behavior: smooth;
}

/* Better message container spacing */
.chat-messages-container {
  padding: 1rem;
  overflow-y: auto;
  flex: 1;
  min-height: 0;
}

/* Improved message bubbles */
.chat-message-user,
.chat-message-assistant {
  animation: fadeIn 0.3s ease-in;
  word-wrap: break-word;
  overflow-wrap: anywhere;
  word-break: break-word;
  max-width: 100%;
  overflow: hidden;
}

/* Ensure text stays within bounds */
.chat-message-user *,
.chat-message-assistant * {
  word-wrap: break-word;
  overflow-wrap: anywhere;
  word-break: break-word;
  max-width: 100%;
}

/* Fix prose content overflow */
.prose {
  max-width: 100% !important;
}

.prose * {
  word-wrap: break-word !important;
  overflow-wrap: anywhere !important;
  max-width: 100% !important;
}

/* Prevent code blocks from overflowing */
.prose pre,
.prose code {
  max-width: 100% !important;
  overflow-x: auto !important;
  word-wrap: normal !important;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Dark mode improvements for chat interface - matching website theme */
.dark .chat-message-assistant {
  background-color: hsl(var(--card)); /* dark navy card background */
  color: hsl(var(--foreground)) !important;
}

.dark .chat-message-assistant * {
  color: hsl(var(--foreground)) !important;
}

.dark .chat-message-user {
  /* User messages use primary color gradient */
  background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--secondary)) 100%);
}

.dark .chat-input {
  background-color: hsl(var(--muted));
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border));
}

.dark .chat-input::placeholder {
  color: hsl(var(--muted-foreground));
}

.dark .chat-timestamp {
  color: hsl(var(--muted-foreground));
}

.dark .chat-thinking {
  background-color: hsl(var(--card));
  color: hsl(var(--foreground)) !important;
}

.dark .chat-thinking * {
  color: hsl(var(--foreground)) !important;
}

/* Ensure ALL text in markdown content uses theme colors in dark mode */
.dark .markdown-content,
.dark .markdown-content * {
  color: hsl(var(--foreground)) !important;
}

.dark .markdown-content p,
.dark .markdown-content span,
.dark .markdown-content div,
.dark .markdown-content li,
.dark .markdown-content h1,
.dark .markdown-content h2,
.dark .markdown-content h3,
.dark .markdown-content h4,
.dark .markdown-content h5,
.dark .markdown-content h6,
.dark .markdown-content strong,
.dark .markdown-content b,
.dark .markdown-content em,
.dark .markdown-content i,
.dark .markdown-content a,
.dark .markdown-content blockquote {
  color: hsl(var(--foreground)) !important;
}

.dark .markdown-content code {
  background-color: hsl(var(--muted));
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border));
}

.dark .markdown-content pre,
.dark .markdown-content pre * {
  background-color: hsl(var(--muted));
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border));
}

/* Make sure bold text uses theme foreground */
.dark strong,
.dark b {
  color: hsl(var(--foreground)) !important;
  font-weight: bold;
}

/* Prose styles override for dark mode */
.dark .prose,
.dark .prose-sm {
  color: hsl(var(--foreground)) !important;
}

.dark .prose h1,
.dark .prose h2,
.dark .prose h3,
.dark .prose h4,
.dark .prose h5,
.dark .prose h6,
.dark .prose-sm h1,
.dark .prose-sm h2,
.dark .prose-sm h3,
.dark .prose-sm h4,
.dark .prose-sm h5,
.dark .prose-sm h6 {
  color: hsl(var(--foreground)) !important;
  font-weight: bold;
}

.dark .prose strong,
.dark .prose-sm strong,
.dark .prose b,
.dark .prose-sm b {
  color: hsl(var(--foreground)) !important;
  font-weight: bold;
}

.dark .prose em,
.dark .prose-sm em,
.dark .prose i,
.dark .prose-sm i {
  color: hsl(var(--foreground)) !important;
}